class Solution:
    def countPermutations(self, complexity: List[int]) -> int:
        n = len(complexity)
        MOD = 10**9 + 7
        
        # If any computer i > 0 has complexity <= complexity[0],
        # it cannot be unlocked by any previous computer (including 0)
        for i in range(1, n):
            if complexity[i] <= complexity[0]:
                return 0
        
        # All computers 1 to n-1 have strictly higher complexity than 0
        # → They can all be unlocked using at least computer 0
        # → Any permutation starting with 0 is valid
        # → Total valid permutations = (n-1)!
        
        ans = 1
        for i in range(2, n):
            ans = ans * i % MOD
        return ans

"""
Approach & Reasoning:
- Computer 0 is always unlocked first.
- To unlock computer i (i > 0), we need some already unlocked j with complexity[j] < complexity[i].
- Since 0 is always unlocked first, if complexity[i] > complexity[0], then computer 0 can unlock it.
- If complexity[i] <= complexity[0], then NO computer (including 0) can unlock it → impossible.

Therefore:
- If any computer i >= 1 has complexity[i] <= complexity[0] → answer = 0
- Otherwise → every permutation starting with 0 is valid → answer = (n-1)!

Time Complexity : O(n)
Space Complexity: O(1)
"""
